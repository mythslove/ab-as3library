package  
{
	import com.ab.utils.Make;
	import com.ab.utils.TextFieldFactory;
	import com.ab.utils.Web;
	import flash.display.Sprite;
	import flash.events.MouseEvent;
	import flash.text.TextField;
	
	import com.ab.apps.appgenerics.core.COREApi;
	import com.ab.apps.appgenerics.settings.XMLSettings;
	import com.ab.apps.appgenerics.applicationbase.EdigmaApplicationBase;
	
	//[Embed(source='../bin/flash/assets/fonts/TAHOMA.ttf', fontName="Tahoma", fontFamily="Tahoma", advancedAntiAliasing="true", mimeType = "application/x-font")]
	
	
	public class ApplicationTest extends EdigmaApplicationBase
	{
		public function ApplicationTest() 
		{
			trace( "ApplicationTest: constructor" );
		}	 
		
		public function start():void
		{
			trace( "ApplicationTestTest.start()" );
			
			/// START POINT
			
			var txtholder:Sprite = new Sprite();
			
			COREApi.addChildToLevel(txtholder, COREApi.LEVEL_TOP, { alpha:1, x:200, y:200 } );
			
			COREApi.writeVectorText(txtholder.graphics, "VECTOR TEXT", "ModaerneLight", 0xffffff, 50, 0, 0, 0);
			
			stage.addEventListener(MouseEvent.CLICK, clickHadnler);
			
			var tf:TextField = TextFieldFactory.createTextField("testing", "ModaerneLight", 60, 0xffffff, 300, "left", true, false, 400);
			//var tf2:TextField = TextFieldFactory.createTextField("testing", "structurosa", 60, 0xffffff, 300, "left", true, true, 0);
			
			COREApi.addChildToLevel(tf, COREApi.LEVEL_TOP, { x:500, y:200 } );
			
			var tf2:TextField = TextFieldFactory.createTextField("testing", "structurosa", 60, 0xffffff, 300, "left", true, true);
			
			COREApi.addChildToLevel(tf2, COREApi.LEVEL_ALERT, { x:0, y:0 } );
			
			FlashPressBridge.singleton.getPostByID(getposthandler, 40);
		}
		
		private function getposthandler(result:Object):void
		{
			for (var prop:* in result) 
			{
				trace("myObject."+prop+" = "+result[prop]);
			}
			
			trace(result, result as Array);
		}
		
		private function clickHadnler(e:MouseEvent):void 
		{
			COREApi.log(Math.random() * 12038012);
		}
	}
}











tart():void
		{
			trace( "ApplicationTestTest.start()" );
			
			/// START POINT
			
			var section1params:Object 		= new Object();
			var section2params:Object 		= new Object();
			var section3params:Object 		= new Object();
			
			section1params.classreference 	= Classtest1;
			section2params.classreference 	= Classtest2;
			section3params.classreference 	= Classtest3;
			section1params.level 			= COREApi.LEVEL_MAIN;
			section2params.level 			= COREApi.LEVEL_MAIN;
			section3params.level 			= COREApi.LEVEL_BACK;
			
			COREApi.addSituation("Section 1", "section1", section1params);
			COREApi.addSituation("Section 2", "section2", section2params);
			COREApi.addSituation("Section 3", "section3", section3params);
			
			var btn1:PolygonQuad 			= new PolygonQuad(50, 20, 0xcccccc);
			var btn2:PolygonQuad 			= new PolygonQuad(50, 20, 0xcccccc);
			var btn3:PolygonQuad 			= new PolygonQuad(50, 20, 0xcccccc);
			
			btn1.buttonMode 				= true;
			btn2.buttonMode 				= true;
			btn3.buttonMode 				= true;
			
			btn2.x = 60;
			btn3.x = 120;
			
			btn1.addEventListener(MouseEvent.CLICK, b1Handler);
			btn2.addEventListener(MouseEvent.CLICK, b2Handler);
			btn3.addEventListener(MouseEvent.CLICK, b3Handler);
			
			COREApi.addChildToLevel(btn1, COREApi.LEVEL_MAIN);
			COREApi.addChildToLevel(btn2, COREApi.LEVEL_MAIN);
			COREApi.addChildToLevel(btn3, COREApi.LEVEL_MAIN);
		}
		
		private function b1Handler(e:MouseEvent):void { COREApi.setSituation("Section 1"); };
		private function b2Handler(e:MouseEvent):void { COREApi.setSituation("Section 2"); };		
		private function b3Handler(e:MouseEvent):void 
		{ 
			var lalala:Object 	= new Object();
			lalala.cat 			= "12";
			lalala.op 			= "6";
			
			COREApi.setSituation("Section 3", lalala); 
		};