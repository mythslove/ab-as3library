
	
	///--------------------------------------///
	///  LOAD IN BITMAP - SAVE AS BYTEARRAY  ///
	///--------------------------------------///
	///this is a demo for loading in a bitmap as a bytearray and then saving that byte array to the wordpress database
	///--------------------------------------///
	private function demoLoadingBitmap():void 
	{
		//the file you want to load
		var request:URLRequest 	= new URLRequest("004-people.jpg");
		_loader 				= new URLLoader();
		_loader.dataFormat 		= URLLoaderDataFormat.BINARY;
		
		try 
		{
			_loader.load(request);
		} 
		catch (error:SecurityError) 
		{
			trace("A SecurityError has occurred.");
		}
		
		_loader.addEventListener(Event.COMPLETE, loaderCompleteHandler);
	}
	
	//handle loading in of image
	private function loaderCompleteHandler(event:Event):void 
	{
		//if you want to use an image source created inside of Flash, you will need to jpg encode it correctly then pass to below method
		//var pic:NewImage = new NewImage(0,0);
		//var bmp:BitmapData = new BitmapData(pic.width,pic.height);
		//bmp.draw(pic);
		
		//get the loaded images bytes
		var bytes:ByteArray = _loader.data;
		var fileOptions:Object = {post_title:"Demo Image", post_content:"An image", post_status:"publish", post_author:1, post_excerpt:'some text about this image'};
		NpDbConnection.queryAMF("WpMethodsService.insertAttachmentAsByteArray", handleAmfResult, onFault, '004-people.jpg', bytes,  fileOptions );
	}
	